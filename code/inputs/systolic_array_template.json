{
  "version": "1.0",
  "template": "systolic_array",
  "mode": "llvm",
  "kernel_class": "gemm",
  "params": { "M": null, "N": null, "K": null, "precision": "int16" },

  "knobs": {
    "rows":         { "values": [2, 4, 8] },
    "cols":         { "values": [2, 4, 8] },
    "k_tile":       { "values": [16, 32, 64, 128] },
    "bitwidth":     { "values": ["int8", "int16", "fp16"] },
    "stationarity": { "values": ["output", "weight", "input"] },

    "a_linebuf_depth": { "min": 32,  "max": 256, "step": 32 },
    "b_linebuf_depth": { "min": 32,  "max": 256, "step": 32 },
    "c_accum_depth":   { "values": [1, 2, 4] },

    "pe_pipeline_depth": { "values": [0, 1, 2] },
    "edge_handshake":    { "values": ["valid-ready", "simple"] }
  },

  "constraints": {
    "dsp_budget":      256,
    "bram_budget":     128,
    "lut_budget":      null,
    "ff_budget":       null,
    "mem_bw_gbps_max": 12.8,
    "clock_mhz_max":   300
  },

  "tech_profile": {
    "dsp_per_mul": { "int8": 0.25, "int16": 1.0, "fp16": 1.0 },
    "adder_cost_lut": { "int16": 64, "fp16": 96 },
    "bram_word_width": 32
  },

  "ppa_goal": {
    "freq_mhz": 150,
    "optimize_for": ["latency", "area"],
    "power_hint": "low"
  },

  "mapping_hints": {
    "prefer_rows": 4,
    "prefer_cols": 4,
    "prefer_stationarity": "output"
  }
}